---
// 1. Importamos las utilidades de i18n
import { useTranslations } from '../../i18n/utils';
import ThemeToggleButton from './ThemeToggleButton.astro';

// 2. Obtenemos el idioma actual y la funci√≥n 't'
const { currentLocale } = Astro;
const lang = currentLocale as 'es' | 'en'; 
const t = useTranslations(lang);

// 3. Definimos las URLs
const isEnglish = lang === 'en';
const homeUrl = isEnglish ? '/en/' : '/';
const otherLangUrl = isEnglish ? '/' : '/en/';
---
<header class="sticky top-0 z-50 py-3 bg-white/80 dark:bg-[#0d1117]/80 backdrop-blur-lg border-b border-slate-200 dark:border-slate-800 transition-colors duration-300">
  <div class="max-w-5xl mx-auto px-6 flex justify-between items-center">
    
    <a href={homeUrl} class="text-xl font-bold text-slate-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors">
      Franco Gutierrez
    </a>
    
    <nav class="hidden md:flex items-center gap-6 text-slate-700 dark:text-slate-300 text-sm font-medium">
      <a href="#proyectos" class="hover:text-blue-600 dark:hover:text-blue-400">{t('nav.projects')}</a>
      <a href="#experiencia" class="hover:text-blue-600 dark:hover:text-blue-400">{t('nav.experience')}</a>
      <a href="#education" class="hover:text-blue-600 dark:hover:text-blue-400">{t('nav.education')}</a>
      <a href="#certifications" class="hover:text-blue-600 dark:hover:text-blue-400">{t('nav.certifications')}</a>
      <a href="#contacto" class="hover:text-blue-600 dark:hover:text-blue-400">{t('nav.contact')}</a>
    </nav>
    
    <div class="flex items-center gap-4">
      <a 
        href={otherLangUrl} 
        aria-label={t('langSwitcher.label')}
        class="w-8 h-8 rounded-full border-2 text-xs font-bold flex items-center justify-center
               border-slate-300 text-slate-600 
               dark:border-slate-700 dark:text-slate-400
               hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"
      >
        {t('langSwitcher.lang')}
      </a>
      <ThemeToggleButton />
    </div>
  </div>
</header>

